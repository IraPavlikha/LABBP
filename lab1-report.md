# Лабораторна робота №1: Розроблення backend архітектури та основного функціоналу
Тема роботи:  
**Платформа для аукціонної торгівлі антикваріатом**

---

## Мета роботи

Ознайомитися з процесом розробки серверної частини веб-застосунку з використанням Node.js та фреймворку Express.js, навчитися проєктувати структуру проєкту, налаштовувати підключення до бази даних, реалізовувати CRUD-операції, використовувати змінні середовища, здійснювати валідацію даних і тестування API.

---

## Завдання лабораторної роботи

– створити та налаштувати Node.js-проєкт з використанням Express.js;  
– налаштувати підключення до бази даних;  
– спроєктувати структуру проєкту та моделі даних;  
– реалізувати CRUD-операції;  
– налаштувати маршрути API та контролери;  
– реалізувати валідацію даних і обробку помилок;  
– протестувати API та підготувати документацію.

---

## 1 Огляд предметної області

Предметною областю даної лабораторної роботи є онлайн-аукціони антикваріату. Антикваріат представляє собою предмети історичної та культурної цінності, які мають обмежену кількість та унікальні характеристики. Традиційна торгівля антикваріатом відбувалася офлайн, що суттєво обмежувало кількість учасників та вимагало значних організаційних ресурсів.

Онлайн-платформа для аукціонної торгівлі дозволяє автоматизувати процес створення лотів, участі у торгах, фіксації ставок та визначення переможця. Користувачі можуть брати участь в аукціонах незалежно від їх фізичного розташування, що значно розширює ринок і підвищує прозорість торгів.

---

## 2 Використані технології

У ході виконання лабораторної роботи використано наступні технології:

– **Node.js** — серверне середовище виконання JavaScript;  
– **Express.js** — фреймворк для створення REST API;  
– **MongoDB** — документоорієнтована система управління базами даних;  
– **Mongoose** — бібліотека для роботи з MongoDB;  
– **JWT** — механізм авторизації користувачів;  
– **Cloudinary** — хмарне зберігання зображень;  
– **Git та GitHub** — контроль версій;  
– **Postman** — тестування API.

---

## 3 Структура проєкту

Проєкт має модульну структуру, що полегшує підтримку та масштабування серверної частини:

<img width="500" height="393" alt="image" src="https://github.com/user-attachments/assets/1eaa0cc9-10de-41ad-b49e-c075b28af74d" />

**Рисунок 1 – Структура папок серверної частини проєкту**

---

## 4 Налаштування змінних середовища

Для зберігання конфігураційних параметрів використовується файл `.env`, у якому визначені параметри підключення до бази даних, порт сервера, секретний ключ JWT та дані для Cloudinary. Це дозволяє відокремити конфігурацію від програмного коду та підвищує безпеку застосунку.

<img width="791" height="231" alt="Знімок екрана 2025-12-23 о 14 54 17" src="https://github.com/user-attachments/assets/a3dfaff2-dcd3-4fd3-9c6f-4691b00e80df" />

**Рисунок 2 – Файл змінних середовища .env**

---

## 5 Реалізація серверної частини

Серверна частина реалізована з використанням Express.js. У файлі `app.js` налаштовано основні middleware для обробки JSON-запитів, маршрути API, авторизацію користувачів та глобальну обробку помилок. Моделі даних реалізовані за допомогою Mongoose та відповідають основним сутностям системи: користувачі, лоти та ставки.

---

## 6 Реалізація та тестування API

**Отримання списку активних аукціонів (GET-запит)**
При надсиланні GET-запиту на /auctions API повертає JSON-масив з активними лотами, де кожен об’єкт містить поля: itemName, itemDescription, itemCategory, startingPrice, currentPrice, itemStartDate, itemEndDate та itemPhoto. Це дозволяє фронтенду відображати актуальні аукціони користувачам.

**Створення нового аукціону (POST-запит)**
Надсилання POST-запиту на /auctions із JSON-даними нового лоту створює запис у базі даних. Сервер повертає JSON-об’єкт із підтвердженням створення та всіма деталями нового лоту, включно з автоматично згенерованим id.

---

## 7 Валідація даних та обробка помилок

У контролерах реалізована перевірка коректності введених даних, зокрема дат проведення аукціону та суми ставки. У разі помилок сервер повертає відповідні HTTP-коди та повідомлення, що забезпечує стабільну та безпечну роботу застосунку.

---

## Висновки

У ході виконання лабораторної роботи було розроблено серверну частину веб-платформи для аукціонної торгівлі антикваріатом. Було реалізовано REST API, налаштовано роботу з базою даних, змінними середовища, авторизацією та валідацією даних. Отримані навички є основою для подальшої розробки повноцінних веб-застосунків.

---

## Контрольні питання

**1. Що таке Node.js і які його основні переваги для серверної розробки?**  
Node.js — це серверне середовище виконання JavaScript, побудоване на рушії V8. Воно дозволяє виконувати JavaScript поза браузером і використовувати його для створення серверних застосунків. Основні переваги Node.js — висока продуктивність завдяки неблокуючій асинхронній моделі, можливість обробляти велику кількість одночасних запитів, використання однієї мови для клієнта і сервера та велика екосистема npm.

**2. Поясніть різницю між синхронними та асинхронними операціями в Node.js.**  
Синхронні операції блокують виконання програми до завершення дії, тоді як асинхронні виконуються у фоновому режимі та повертають результат через callback, promise або async/await. Асинхронний підхід дозволяє Node.js ефективно обслуговувати багато одночасних запитів.

**3. Що таке Express.js middleware і як воно працює?**  
Middleware — це функція, яка має доступ до об’єктів запиту та відповіді і виконується між отриманням запиту та відправкою відповіді клієнту. Middleware використовується для авторизації, логування, валідації даних та обробки помилок.

**4. Що таке ORM і які переваги використання Prisma порівняно з SQL-запитами?**  
ORM дозволяє працювати з базою даних через об’єкти мови програмування. Prisma забезпечує типобезпечність, автоматичні міграції та зменшує кількість помилок у порівнянні з ручним написанням SQL.

**5. Поясніть принципи REST API.**  
REST API базується на клієнт–серверній архітектурі та стандартних HTTP-методах: POST — створення, GET — отримання, PUT/PATCH — оновлення, DELETE — видалення ресурсів.

**6. Що таке валідація даних на сервері і чому вона важлива?**  
Валідація даних — це перевірка коректності та повноти вхідної інформації. Вона необхідна для захисту системи від помилок і некоректних або шкідливих даних.

**7. Поясніть структуру MVC і як вона реалізована у проєкті.**  
MVC розділяє застосунок на Model, View і Controller. У серверному проєкті Model відповідає за роботу з базою даних, Controller — за бізнес-логіку, а View представлений JSON-відповідями API.

**8. Як працюють міграції бази даних у Prisma?**  
Міграції дозволяють керувати змінами структури бази даних шляхом автоматичного створення та застосування змін на основі опису схем.

**9. Що таке змінні середовища і навіщо вони потрібні?**  
Змінні середовища використовуються для зберігання конфігураційних параметрів та секретних даних і дозволяють відокремити конфігурацію від коду.

**10. Як забезпечити безпеку API endpoints?**  
Безпека забезпечується через JWT-аутентифікацію, перевірку прав доступу, валідацію даних, rate limiting та використання HTTPS.
